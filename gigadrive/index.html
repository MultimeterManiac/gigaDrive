<!DOCTYPE html>
<html lang="en">
<!--fix html injections-->

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://cdn.jsdelivr.net/npm/appwrite@16.0.2"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"
		integrity="sha256-/H4YS+7aYb9kJ5OKhFYPUjSJdrtV6AeyJOtTkw6X72o=" crossorigin="anonymous"></script>
	<script src="website4.js" defer></script>
	<script src="client.js"></script>
	<script src="langGerman.js" defer></script>
	<script src="langSpanish.js" defer></script>
	<script src="langEnglish.js" defer></script>
	<title>gigaDrive</title>
	<link id="stylesheet" rel="stylesheet" href="mobile.css">
	<link rel="stylesheet" href="progress.css">
	<link rel="icon" type="image/x-icon" href="icons8-cloud.png">
	<link rel="manifest" href="manifest.json">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
		rel="stylesheet">
	<!--<script>
		function updateStylesheet() {
			const stylesheet = document.getElementById("stylesheet");
			if (window.innerWidth <= 768) {
				stylesheet.href = "mobile.css";
			} else {
				stylesheet.href = "styles.css";
			}
		}

		updateStylesheet();
		window.addEventListener("resize", updateStylesheet);


	</script>
-->

</head>

<body>

	<!--
	fixed positions
	-->

	<nav id="tools">
		<button id="sort" onclick="document.getElementById('sortOptions').classList.toggle('sortOptions')">
			<div id="nameSort"><img src="sortAZ.svg"></div>
			<div id="timeSort"><img src="sort19.svg"></div>
		</button>
		<button id="tagFilter" onclick="document.getElementById('filterOptions').classList.toggle('filterOptions')"><img
				src="filter.svg"></button>
	</nav>
	<label id="uploadLink" for="addFile" onclick="
	document.getElementById('uploadPopup').style.display = 'block';
	"><img src="new.svg" alt="new"></label>

	<div id="filterOptions">
		<h5>Filter:</h5>
		<div></div>
		<div onclick="clearFilter()" id="clearFilter">all</div>
		<div onclick="filter('red')" class="filesFilter" style="background-color: var(--red);"></div>
		<div onclick="filter('green')" class="filesFilter" style="background-color: var(--green);"></div>
		<div onclick="filter('yellow')" class="filesFilter" style="background-color: var(--yellow);"></div>
		<div onclick="filter('blue')" class="filesFilter" style="background-color: var(--blue);"></div>
		<div onclick="filter('purple')" class="filesFilter" style="background-color: var(--purple);"></div>
		<div onclick="filter('white')" class="filesFilter" style="background-color: var(--white);"></div>
	</div>

	<div id="sortOptions">
		<h5 id="sortH5">Sort:</h5>
		<div></div>
		<button class="activeBtn" id="abcSort">ABC</button>
		<button id="xyzSort">ZYX</button>
		<button id="newestSort">Newest</button>
		<button id="oldestSort">Oldest</button>
	</div>

	<nav id="nav">
		<section id="headsection">
			<button id="openMenu" onclick="document.getElementById('menu').classList.toggle('menu')"><img
					src="menu.svg"></button>
			<h1 onclick="document.documentElement.requestFullscreen()">gigaDrive</h1>
			<button onclick="window.location.reload()" style="background-color: transparent;">rel()</button>
			<div onclick="selectMenu()" class="filesFilterFilter" id="selectBtn">Select</div>
		</section>
		<section id="searchSection">
			<input type="text" id="search" placeholder="Search" autocomplete="off" spellcheck="false">
		</section>
		<div class="headFiles">
			<div class="filesFilterCon">
				<div onclick="" class="filesFilterFilter hidden" style="color: rgb(255, 97, 97);" id="cancelSelectBtn">CANCEL
				</div>

				<div onclick="" class="filesFilterFilter hidden" id="saveSelection">[SAVE]</div>
				<div onclick="" class="filesFilterFilter hidden" id="deleteSelection">[DELETE]</div>
				<div onclick="" class="filesFilterFilter hidden" id="slcAllSelection">[slcALL]</div>

			</div> <!--filterfilter-->
		</div>
	</nav>
	</section>
	<section id="fileArea">

		<div id="selectInfo">Select items by clicking, then choose the actions above.</div>
		<div id="fileList">
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>
			<div class="loading">
				<div>ic</div>
				<div>name</div>
				<div>date</div>
				<div></div>
				<div>save</div>
			</div>

			<div id="statusBarUpload7" class="statusBarUpload">
				<div>
					<div id="namePercentage">Michi.mov, 69%</div>
				</div>
				<div>cancel</div>
			</div>


			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Speichern</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Guardar</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>

			<div class="fileLink">
				<div class="icon"><img src="delete.png"></div>
				<div class="name">file.txt</div>
				<div class="tag"></div>
				<div class="date">2023-01-01</div>
				<button class="save">Save</button>
			</div>
			<!--file list here-->
		</div><!--close filelist-->
	</section><!--close filearea-->




	<nav id="menu">
		<button id="closeMenu" onclick="document.getElementById('menu').classList.toggle('menu')"><img
				src="close.svg"></button>
		<h3 id="settings">Settings</h3>
		<h4 id="general">GENERAL</h4>

		<aside>
			<img src="home.svg">
			<div id="myDrive">My Drive</div>
		</aside>

		<aside>
			<img src="language.svg">
			<div id="myLang">Language</div>
		</aside>

		<article>
			<option onclick="toEnglish()">English</option>
			<option onclick="toSpanish()">Espa√±ol</option>
			<option onclick="toGerman()">Deutsch</option>
		</article>

		<aside>
			<img src="theme.png">
			<div id="appearance">Appearance</div>
		</aside>

		<article>
			<option id="theme1">Theme 1</option>
			<option id="theme2">Theme 2</option>
		</article>

		<aside>
			<img src="help.png">
			<div id="howToCollaborate" onclick="document.getElementById('collaboratePopup').style.display = 'block';">How To
				Collaborate</div>
		</aside>

		<aside>
			<img src="collaborate.png">
			<div id="collaborateNow"" onclick=" document.getElementById('collaborateNowPopup').style.display='block' ;">
				Collaborate Now</div>
		</aside>

		<aside>
			<img src="bin.png">
			<div id="recycleBin">Recycle Bin</div>
		</aside>

		<h4 id="userSub">USER</h4>

		<aside>
			<img src="logout.png">
			<div class="cyellow" onclick="logout()" id="logOutDevice">Log Out (this device)</div>
		</aside>

		<aside>
			<img src="logout.png">
			<div class="cyellow" id="logOutAllDevices">Log Out (all devices)</div>
		</aside>

		<aside>
			<img src="logout.png">
			<div class="cyellow" id="manageDevices" onclick="document.getElementById('devicesPopup').style.display = 'block'">
				Manage my devices</div>
		</aside>

		<aside>
			<img src="delete.svg">
			<div class="cred" id="delAcc">Delete account</div>
		</aside>

		<h4>SERVER</h4>

		<aside>
			<img src="version.png">
			<div>gigaDrive d3.1-f20-b11</div>
		</aside>

		<aside>
			<img src="hdd.png">
			<div id="diskSpace">Disk Space: 128 / 2000 GB</div>
		</aside>

		<h4>EXTERNAL</h4>

		<a>gigaChat</a>
		<a>icons8</a>
		<a>Source Code</a>
		<a>Contact us</a>
		<div style="height: 1rem;"></div>
		<a><span>felixNowak</span>, UI/UX Designer</a>
		<a><span>jonathanWallasch</span>, Frontend</a>
		<a><span>davidOtt</span>, Backend</a>


	</nav>


	<!--UPLOAD-->
	<div id="uploadPopup" class="popup">
		<h1>gigaDrive</h1>
		<div id="itemsToUpload"></div>

		<!--select Name, Access-->
		<section class="uploadSectionUpload">
			<input type="file" id="addFile" style="opacity: 0; scale: 0;" multiple>
			<div style="width: 100%; display: flex; justify-content: center;"><!--open tag container-->
				<div class="primarySecondaryContainer buttons">
					<div onclick="filter('red')" class="filesFilter" style="background-color: var(--red);"></div>
					<div onclick="filter('green')" class="filesFilter" style="background-color: var(--green);"></div>
					<div onclick="filter('yellow')" class="filesFilter" style="background-color: var(--yellow);"></div>
					<div onclick="filter('blue')" class="filesFilter" style="background-color: var(--blue);"></div>
					<div onclick="filter('purple')" class="filesFilter" style="background-color: var(--purple);"></div>
					<div onclick="filter('white')" class="filesFilter" style="background-color: var(--white);"></div>
				</div>
			</div><!--close container-->
			<input type="text" id="tag" placeholder="Tags, in dev."
				style="color: black; width: 100px; background-color: rgba(0, 0, 0, 0.411);" class="inputField">
			<div class="primarySecondaryContainer withButtons">
				<button class="secondary" onclick="
            document.getElementById('uploadPopup').style.display = 'none';">Cancel</button>
				<button onclick="sendChunks()" id="uploadNow" class="primary">Upload</button>
			</div> <!--close primarySecondaryContainer-->
		</section>
	</div>

	<!--WEBSOCKET-->
	<div id="websocketPopup" class="popup" style="display: none;">
		<h2>Connection failed.</h2>
		<div style="text-align: center; line-height: 2rem; letter-spacing: 1px; color: var(--fileFocus);">Couldn't establish
			a websocket connnection.</div>
		<div>
			<div class="primarySecondaryContainer">
				<button class="secondary" onclick="
                document.getElementById('websocketPopup').style.display = 'none';">Ignore</button>
				<a href="mailto:get.giga.drive@gmail.com"><button class="secondary">Contact</button></a>
			</div>
		</div>
	</div>

	<div class="popup" id="collaboratePopup">
		<h1>gigaDrive</h1>
		<h3>How To Collaborate</h3>
		<p>
			<br>
			To collaborate, you need to share <i>the entire contents of an account</i>.
			<br><br>
			For that reason, we recommend creating a dedicated account instead of using your personal one.
			<br><br>
			After setting this up, you can invite coworkers by sending them a <i>Collaboration Link</i>.
			You can generate this link using the <i>Collaborate Now</i> option.
		</p>
		<div class="primarySecondaryContainer">
			<button class="secondary"
				onclick="document.getElementById('collaboratePopup').style.display = 'none';">Close</button>
		</div>
	</div>

	<div class="popup" id="collaborateNowPopup">
		<h1>gigaDrive</h1>
		<h3>Collaborate Now</h3>
		<ul>
			<li>Only share link with people you trust.</li>
			<li>Check for private content on gigaDrive and gigaChat before inviting others.</li>
			<li>Coworkers can edit and delete contents and/or your account.</li>
		</ul>

		<p>Collaborate Link for "Felix":</p>
		<a>https://gigadrive.ddns.net/auth/un=b5kj45b45&pw=k5445zjk45</a>

		<div class="primarySecondaryContainer">
			<div class="primary">Copy</div>
			<div class="primary">Share</div>
			<button class="secondary"
				onclick="document.getElementById('collaborateNowPopup').style.display = 'none';">Close</button>
		</div>
	</div>

	<div class="popup" id="devicesPopup">
		<h1>gigaDrive</h1>
		<h3>Manage my devices</h3>
		<div id="myDevicesList">

			<div class="userDevice thisDevice">
				<div class="deviceType">Linux, Chrome</div>
				<div></div>
				<div class="deviceSession">September 22, 8:35 PM</div>
				<button class="deviceKill">Log Out</button>
			</div>

			<div class="userDevice">
				<div class="deviceType">iOS, Safari</div>
				<div></div>
				<div class="deviceSession">June 14, 2:59 AM</div>
				<button class="deviceKill">Remove</button>
			</div>

			<div class="userDevice">
				<div class="deviceType">MacOS, Safari</div>
				<div></div>
				<div class="deviceSession">June 14, 3:27 PM</div>
				<button class="deviceKill">Remove</button>
			</div>

			<div class="userDevice">
				<div class="deviceType">Windows, Firefox</div>
				<div></div>
				<div class="deviceSession">August 31, 5:23 PM</div>
				<button class="deviceKill">Remove</button>
			</div>

		</div>
		<div class="primarySecondaryContainer">
			<button class="secondary" onclick="document.getElementById('devicesPopup').style.display = 'none';">Close</button>
		</div>
	</div>




	<script>
		(() => {
			const _elStatus_9xk3 = document.querySelector(".statusBarUpload");
			if (!_elStatus_9xk3) return;

			let _counter_7bz2 = 0;
			const _maxSteps_5qa1 = 10;

			const _timer_4mn8 = setInterval(() => {
				_elStatus_9xk3.id = "statusBarUpload" + _counter_7bz2;
				_counter_7bz2++;
				if (_counter_7bz2 > _maxSteps_5qa1) {
					clearInterval(_timer_4mn8);
				}
			}, 800);
		})();
	</script>



	<script>
		let usernameCurrent = "Felix";
		document.addEventListener("DOMContentLoaded", function () {
			// Element references
			const uploadMenu = document.getElementById("uploadPopup");
			const h1 = document.getElementById("h1");
			const uploadLink = document.getElementById("uploadLink");
			const shareMenu = document.getElementById("sharePopup");
			const settingsMenu = document.getElementById("settingsPopup");
			const statusMenu = document.getElementById("diskPopup");
			const deletePopupCon = document.getElementById("deletePopup");
			const reloadButton = document.getElementById("reload");
			const cancelButtons = document.querySelectorAll(".cancelDeleteBtn");

			// Reload the page
			function reloadPage() {
				location.reload();
			}

			// Cycle statuses for upload
			const statuses = document.querySelectorAll(".uploadStatus");
			let currentIndex = 0;

			function showNextStatus() {
				statuses[currentIndex].classList.remove("activeUploadStatus");
				currentIndex = (currentIndex + 1) % statuses.length;
				statuses[currentIndex].classList.add("activeUploadStatus");
			}

			function cycleStatuses() {
				if (statuses.length > 0) {
					statuses[currentIndex].classList.add("activeUploadStatus");
					setInterval(showNextStatus, 10000);
				}
			}

			cycleStatuses();

			// Cycle statuses for download
			const downloadStatuses = document.querySelectorAll(".downloadStatus");
			let downloadIndex = 0;

			function showNextDownloadStatus() {
				downloadStatuses[downloadIndex].classList.remove("activeDownloadStatus");
				downloadIndex = (downloadIndex + 1) % downloadStatuses.length;
				downloadStatuses[downloadIndex].classList.add("activeDownloadStatus");
			}

			function cycleDownloadStatuses() {
				if (downloadStatuses.length > 0) {
					downloadStatuses[downloadIndex].classList.add("activeDownloadStatus");
					setInterval(showNextDownloadStatus, 10000);
				}
			}

			cycleDownloadStatuses();
		});

		document.addEventListener("DOMContentLoaded", function () {
			const searchInput = document.querySelector("#search");
			const fileList = document.querySelector("#fileList");
			const fileLinks = document.querySelectorAll(".fileLink");

			const noResultsMessage = document.createElement("div");
			noResultsMessage.textContent = "No matches found.";
			noResultsMessage.style.display = "none";
			noResultsMessage.style.color = "red";
			fileList.appendChild(noResultsMessage);

			searchInput.addEventListener("input", function () {
				console.log("searching");
				const query = searchInput.value.toLowerCase();
				let matchFound = false;


				fileLinks.forEach(link => {
					if (link.textContent.toLowerCase().includes(query)) {
						link.classList.remove("noMatch");
						link.style.display = "";
						matchFound = true;
					} else {
						link.classList.add("noMatch");
						setTimeout(() => {
							link.classList.remove("noMatch");
							link.style.display = "none";
						}, 1000);
					}
				});

				noResultsMessage.style.display = matchFound ? "none" : "block";
			});
		});

	</script>
</body>

</html>